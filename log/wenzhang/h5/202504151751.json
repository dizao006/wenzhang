{"numFailedTestSuites":1,"numFailedTests":8,"numPassedTestSuites":0,"numPassedTests":1,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":1,"numTotalTests":9,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1744710697611,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["pages/game/game.vue","基础元素测试"],"failureMessages":[],"fullName":"pages/game/game.vue 基础元素测试 页面元素加载正确","location":null,"status":"passed","title":"页面元素加载正确"},{"ancestorTitles":["pages/game/game.vue","游戏核心功能测试"],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 4\nReceived: 16\n    at Object.<anonymous> (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\game\\game.test.js:105:26)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"pages/game/game.vue 游戏核心功能测试 游戏网格初始化正确","location":null,"status":"failed","title":"游戏网格初始化正确"},{"ancestorTitles":["pages/game/game.vue","游戏核心功能测试"],"failureMessages":["TypeError: gameContainer.boundingBox is not a function\n    at simulateSwipe (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\game\\game.test.js:44:37)\n    at Object.<anonymous> (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\game\\game.test.js:111:10)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"pages/game/game.vue 游戏核心功能测试 向右滑动应改变游戏状态","location":null,"status":"failed","title":"向右滑动应改变游戏状态"},{"ancestorTitles":["pages/game/game.vue","游戏核心功能测试"],"failureMessages":["TypeError: gameContainer.boundingBox is not a function\n    at simulateSwipe (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\game\\game.test.js:44:37)\n    at Object.<anonymous> (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\game\\game.test.js:118:10)\n    at Promise.then.completed (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\node_modules\\jest-circus\\build\\utils.js:391:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\node_modules\\jest-circus\\build\\utils.js:316:10)\n    at _callCircusTest (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\node_modules\\jest-circus\\build\\run.js:218:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\node_modules\\jest-circus\\build\\run.js:155:3)\n    at _runTestsForDescribeBlock (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\node_modules\\jest-circus\\build\\run.js:66:9)\n    at _runTestsForDescribeBlock (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\node_modules\\jest-circus\\build\\run.js:60:9)"],"fullName":"pages/game/game.vue 游戏核心功能测试 重置功能应归零分数","location":null,"status":"failed","title":"重置功能应归零分数"},{"ancestorTitles":["pages/game/game.vue","游戏核心功能测试"],"failureMessages":["TypeError: gameContainer.boundingBox is not a function\n    at simulateSwipe (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\game\\game.test.js:44:37)\n    at Object.<anonymous> (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\game\\game.test.js:131:10)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"pages/game/game.vue 游戏核心功能测试 多方向滑动测试","location":null,"status":"failed","title":"多方向滑动测试"},{"ancestorTitles":["pages/game/game.vue","游戏状态测试"],"failureMessages":["TypeError: (intermediate value).evaluate is not a function\n    at Object.<anonymous> (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\game\\game.test.js:146:41)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"pages/game/game.vue 游戏状态测试 游戏胜利状态检测","location":null,"status":"failed","title":"游戏胜利状态检测"},{"ancestorTitles":["pages/game/game.vue","游戏状态测试"],"failureMessages":["TypeError: (intermediate value).evaluate is not a function\n    at Object.<anonymous> (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\game\\game.test.js:160:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"pages/game/game.vue 游戏状态测试 游戏结束状态检测","location":null,"status":"failed","title":"游戏结束状态检测"},{"ancestorTitles":["pages/game/game.vue","边界测试"],"failureMessages":["TypeError: program.dispatchTouchStart is not a function\n    at Object.<anonymous> (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\game\\game.test.js:178:18)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"pages/game/game.vue 边界测试 在游戏区域外滑动应无效","location":null,"status":"failed","title":"在游戏区域外滑动应无效"},{"ancestorTitles":["pages/game/game.vue","边界测试"],"failureMessages":["TypeError: gameContainer.boundingBox is not a function\n    at Object.<anonymous> (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\game\\game.test.js:188:37)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"pages/game/game.vue 边界测试 极小滑动距离应无效","location":null,"status":"failed","title":"极小滑动距离应无效"}],"endTime":1744710706665,"message":"  ● pages/game/game.vue › 游戏核心功能测试 › 游戏网格初始化正确\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 4\n    Received: 16\n\n      103 | \t\t\tfor (const row of gridRows) {\n      104 | \t\t\t\tconst cells = await row.$$('.grid-cell');\n    > 105 | \t\t\t\texpect(cells.length).toBe(4);\n          | \t\t\t\t                     ^\n      106 | \t\t\t}\n      107 | \t\t});\n      108 |\n\n      at Object.<anonymous> (pages/game/game.test.js:105:26)\n\n  ● pages/game/game.vue › 游戏核心功能测试 › 向右滑动应改变游戏状态\n\n    TypeError: gameContainer.boundingBox is not a function\n\n      42 | \t\t// 改进的滑动模拟函数\n      43 | \t\tconst simulateSwipe = async (direction = 'right') => {\n    > 44 | \t\t\tconst rect = await gameContainer.boundingBox();\n         | \t\t\t                                 ^\n      45 | \t\t\tconst centerX = rect.x + rect.width / 2;\n      46 | \t\t\tconst centerY = rect.y + rect.height / 2;\n      47 | \t\t\tconst distance = 100; // 滑动距离\n\n      at simulateSwipe (pages/game/game.test.js:44:37)\n      at Object.<anonymous> (pages/game/game.test.js:111:10)\n\n  ● pages/game/game.vue › 游戏核心功能测试 › 重置功能应归零分数\n\n    TypeError: gameContainer.boundingBox is not a function\n\n      42 | \t\t// 改进的滑动模拟函数\n      43 | \t\tconst simulateSwipe = async (direction = 'right') => {\n    > 44 | \t\t\tconst rect = await gameContainer.boundingBox();\n         | \t\t\t                                 ^\n      45 | \t\t\tconst centerX = rect.x + rect.width / 2;\n      46 | \t\t\tconst centerY = rect.y + rect.height / 2;\n      47 | \t\t\tconst distance = 100; // 滑动距离\n\n      at simulateSwipe (pages/game/game.test.js:44:37)\n      at Object.<anonymous> (pages/game/game.test.js:118:10)\n\n  ● pages/game/game.vue › 游戏核心功能测试 › 多方向滑动测试\n\n    TypeError: gameContainer.boundingBox is not a function\n\n      42 | \t\t// 改进的滑动模拟函数\n      43 | \t\tconst simulateSwipe = async (direction = 'right') => {\n    > 44 | \t\t\tconst rect = await gameContainer.boundingBox();\n         | \t\t\t                                 ^\n      45 | \t\t\tconst centerX = rect.x + rect.width / 2;\n      46 | \t\t\tconst centerY = rect.y + rect.height / 2;\n      47 | \t\t\tconst distance = 100; // 滑动距离\n\n      at simulateSwipe (pages/game/game.test.js:44:37)\n      at Object.<anonymous> (pages/game/game.test.js:131:10)\n\n  ● pages/game/game.vue › 游戏状态测试 › 游戏胜利状态检测\n\n    TypeError: (intermediate value).evaluate is not a function\n\n      144 | \t\t\t// 模拟多次操作直到胜利（简化版）\n      145 | \t\t\tfor (let i = 0; i < 15; i++) {\n    > 146 | \t\t\t\tawait (await program.currentPage()).evaluate(() => {\n          | \t\t\t\t                                    ^\n      147 | \t\t\t\t\t// 这里应该有直接设置游戏状态的代码\n      148 | \t\t\t\t\t// 例如：window.gameManager.reach2048();\n      149 | \t\t\t\t});\n\n      at Object.<anonymous> (pages/game/game.test.js:146:41)\n\n  ● pages/game/game.vue › 游戏状态测试 › 游戏结束状态检测\n\n    TypeError: (intermediate value).evaluate is not a function\n\n      158 | \t\tit('游戏结束状态检测', async () => {\n      159 | \t\t\t// 模拟游戏结束状态\n    > 160 | \t\t\tawait (await program.currentPage()).evaluate(() => {\n          | \t\t\t                                    ^\n      161 | \t\t\t\t// 这里应该有直接设置游戏结束的代码\n      162 | \t\t\t\t// 例如：window.gameManager.gameOver();\n      163 | \t\t\t});\n\n      at Object.<anonymous> (pages/game/game.test.js:160:40)\n\n  ● pages/game/game.vue › 边界测试 › 在游戏区域外滑动应无效\n\n    TypeError: program.dispatchTouchStart is not a function\n\n      176 |\n      177 | \t\t\t// 在游戏区域上方滑动\n    > 178 | \t\t\tawait program.dispatchTouchStart(100, 50);\n          | \t\t\t              ^\n      179 | \t\t\tawait program.dispatchTouchMove(300, 50);\n      180 | \t\t\tawait program.dispatchTouchEnd();\n      181 | \t\t\tawait page.waitFor(500);\n\n      at Object.<anonymous> (pages/game/game.test.js:178:18)\n\n  ● pages/game/game.vue › 边界测试 › 极小滑动距离应无效\n\n    TypeError: gameContainer.boundingBox is not a function\n\n      186 | \t\tit('极小滑动距离应无效', async () => {\n      187 | \t\t\tconst gameContainer = await page.$('.game-container');\n    > 188 | \t\t\tconst rect = await gameContainer.boundingBox();\n          | \t\t\t                                 ^\n      189 | \t\t\tconst initialScore = await (await page.$('.score-container')).text();\n      190 |\n      191 | \t\t\t// 滑动距离小于阈值\n\n      at Object.<anonymous> (pages/game/game.test.js:188:37)\n","name":"C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\game\\game.test.js","startTime":1744710697795,"status":"failed","summary":""}],"wasInterrupted":false}