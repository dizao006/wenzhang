{"numFailedTestSuites":1,"numFailedTests":7,"numPassedTestSuites":0,"numPassedTests":1,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":1,"numTotalTests":8,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1744711419673,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["pages/chat/chat.vue","基础元素测试"],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"问我任何问题...\"\nReceived: \"null\"\n    at Object.<anonymous> (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\ai2\\ai2.test.js:32:52)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"pages/chat/chat.vue 基础元素测试 页面元素加载正确","location":null,"status":"failed","title":"页面元素加载正确"},{"ancestorTitles":["pages/chat/chat.vue","聊天核心功能测试"],"failureMessages":["TypeError: inputBox.setValue is not a function\n    at sendMessage (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\ai2\\ai2.test.js:52:19)\n    at Object.<anonymous> (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\ai2\\ai2.test.js:61:10)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"pages/chat/chat.vue 聊天核心功能测试 发送消息应更新聊天列表","location":null,"status":"failed","title":"发送消息应更新聊天列表"},{"ancestorTitles":["pages/chat/chat.vue","聊天核心功能测试"],"failureMessages":[],"fullName":"pages/chat/chat.vue 聊天核心功能测试 清空记录功能应重置聊天列表","location":null,"status":"passed","title":"清空记录功能应重置聊天列表"},{"ancestorTitles":["pages/chat/chat.vue","聊天核心功能测试"],"failureMessages":["TypeError: deepThinkBtn.evaluate is not a function\n    at Object.<anonymous> (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\ai2\\ai2.test.js:79:44)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"pages/chat/chat.vue 聊天核心功能测试 切换深度思考模式应更新按钮状态","location":null,"status":"failed","title":"切换深度思考模式应更新按钮状态"},{"ancestorTitles":["pages/chat/chat.vue","聊天核心功能测试"],"failureMessages":["TypeError: inputBox.setValue is not a function\n    at sendMessage (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\ai2\\ai2.test.js:52:19)\n    at Object.<anonymous> (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\ai2\\ai2.test.js:93:10)\n    at Promise.then.completed (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\node_modules\\jest-circus\\build\\utils.js:391:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\node_modules\\jest-circus\\build\\utils.js:316:10)\n    at _callCircusTest (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\node_modules\\jest-circus\\build\\run.js:218:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\node_modules\\jest-circus\\build\\run.js:155:3)\n    at _runTestsForDescribeBlock (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\node_modules\\jest-circus\\build\\run.js:66:9)\n    at _runTestsForDescribeBlock (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\node_modules\\jest-circus\\build\\run.js:60:9)"],"fullName":"pages/chat/chat.vue 聊天核心功能测试 复制文本功能应弹出提示","location":null,"status":"failed","title":"复制文本功能应弹出提示"},{"ancestorTitles":["pages/chat/chat.vue","语音功能测试"],"failureMessages":["TypeError: page.evaluate is not a function\n    at Object.<anonymous> (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\ai2\\ai2.test.js:126:40)\n    at Promise.then.completed (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\node_modules\\jest-circus\\build\\utils.js:391:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\node_modules\\jest-circus\\build\\utils.js:316:10)\n    at _callCircusTest (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\node_modules\\jest-circus\\build\\run.js:218:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\node_modules\\jest-circus\\build\\run.js:155:3)\n    at _runTestsForDescribeBlock (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\node_modules\\jest-circus\\build\\run.js:66:9)\n    at _runTestsForDescribeBlock (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\node_modules\\jest-circus\\build\\run.js:60:9)\n    at _runTestsForDescribeBlock (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\node_modules\\jest-circus\\build\\run.js:60:9)"],"fullName":"pages/chat/chat.vue 语音功能测试 点击语音按钮开始录音状态正确","location":null,"status":"failed","title":"点击语音按钮开始录音状态正确"},{"ancestorTitles":["pages/chat/chat.vue","语音功能测试"],"failureMessages":["TypeError: page.evaluate is not a function\n    at Object.<anonymous> (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\ai2\\ai2.test.js:137:40)"],"fullName":"pages/chat/chat.vue 语音功能测试 点击语音按钮停止录音状态正确","location":null,"status":"failed","title":"点击语音按钮停止录音状态正确"},{"ancestorTitles":["pages/chat/chat.vue","边界测试"],"failureMessages":["TypeError: inputBox.setValue is not a function\n    at Object.<anonymous> (C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\ai2\\ai2.test.js:151:19)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"pages/chat/chat.vue 边界测试 发送空消息应提示","location":null,"status":"failed","title":"发送空消息应提示"}],"endTime":1744711430255,"message":"  ● pages/chat/chat.vue › 基础元素测试 › 页面元素加载正确\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"问我任何问题...\"\n    Received: \"null\"\n\n      30 | \t\t\tconst clearBtn = await page.$('.action-btn');\n      31 |\n    > 32 | \t\t\texpect(await inputBox.attribute('placeholder')).toBe('问我任何问题...');\n         | \t\t\t                                                ^\n      33 | \t\t\tconst deepThinkIcon = await deepThinkBtn.$('uni-icons');\n      34 | \t\t\texpect(await deepThinkIcon.attribute('type')).toBe('paperclip');\n      35 | \t\t\tconst sendIcon = await sendBtn.$('uni-icons');\n\n      at Object.<anonymous> (pages/ai2/ai2.test.js:32:52)\n\n  ● pages/chat/chat.vue › 聊天核心功能测试 › 发送消息应更新聊天列表\n\n    TypeError: inputBox.setValue is not a function\n\n      50 |\n      51 | \t\tconst sendMessage = async (message) => {\n    > 52 | \t\t\tawait inputBox.setValue(message);\n         | \t\t\t               ^\n      53 | \t\t\tconst sendBtn = await page.$('.send-btn');\n      54 | \t\t\tawait sendBtn.tap();\n      55 | \t\t\tawait page.waitFor(1000);\n\n      at sendMessage (pages/ai2/ai2.test.js:52:19)\n      at Object.<anonymous> (pages/ai2/ai2.test.js:61:10)\n\n  ● pages/chat/chat.vue › 聊天核心功能测试 › 切换深度思考模式应更新按钮状态\n\n    TypeError: deepThinkBtn.evaluate is not a function\n\n      77 | \t\tit('切换深度思考模式应更新按钮状态', async () => {\n      78 | \t\t\tconst deepThinkBtn = await page.$('.deep-think-btn');\n    > 79 | \t\t\tconst initialColor = await deepThinkBtn.evaluate(el => el.style.color);\n         | \t\t\t                                        ^\n      80 | \t\t\tawait deepThinkBtn.tap();\n      81 | \t\t\tawait page.waitFor(500);\n      82 | \t\t\tconst newColor = await deepThinkBtn.evaluate(el => el.style.color);\n\n      at Object.<anonymous> (pages/ai2/ai2.test.js:79:44)\n\n  ● pages/chat/chat.vue › 聊天核心功能测试 › 复制文本功能应弹出提示\n\n    TypeError: inputBox.setValue is not a function\n\n      50 |\n      51 | \t\tconst sendMessage = async (message) => {\n    > 52 | \t\t\tawait inputBox.setValue(message);\n         | \t\t\t               ^\n      53 | \t\t\tconst sendBtn = await page.$('.send-btn');\n      54 | \t\t\tawait sendBtn.tap();\n      55 | \t\t\tawait page.waitFor(1000);\n\n      at sendMessage (pages/ai2/ai2.test.js:52:19)\n      at Object.<anonymous> (pages/ai2/ai2.test.js:93:10)\n\n  ● pages/chat/chat.vue › 语音功能测试 › 点击语音按钮开始录音状态正确\n\n    TypeError: page.evaluate is not a function\n\n      124 |\n      125 | \t\tit('点击语音按钮开始录音状态正确', async () => {\n    > 126 | \t\t\tconst initialRecording = await page.evaluate(() => document.querySelector(\n          | \t\t\t                                    ^\n      127 | \t\t\t\t'.voice-btn').classList.contains('recording'));\n      128 | \t\t\tawait startSpeechRecognition();\n      129 | \t\t\tconst newRecording = await page.evaluate(() => document.querySelector(\n\n      at Object.<anonymous> (pages/ai2/ai2.test.js:126:40)\n\n  ● pages/chat/chat.vue › 语音功能测试 › 点击语音按钮停止录音状态正确\n\n    TypeError: page.evaluate is not a function\n\n      135 | \t\tit('点击语音按钮停止录音状态正确', async () => {\n      136 | \t\t\tawait startSpeechRecognition();\n    > 137 | \t\t\tconst initialRecording = await page.evaluate(() => document.querySelector(\n          | \t\t\t                                    ^\n      138 | \t\t\t\t'.voice-btn').classList.contains('recording'));\n      139 | \t\t\tawait stopSpeechRecognition();\n      140 | \t\t\tconst newRecording = await page.evaluate(() => document.querySelector(\n\n      at Object.<anonymous> (pages/ai2/ai2.test.js:137:40)\n\n  ● pages/chat/chat.vue › 边界测试 › 发送空消息应提示\n\n    TypeError: inputBox.setValue is not a function\n\n      149 | \t\tit('发送空消息应提示', async () => {\n      150 | \t\t\tconst inputBox = await page.$('.input');\n    > 151 | \t\t\tawait inputBox.setValue('');\n          | \t\t\t               ^\n      152 | \t\t\tconst sendBtn = await page.$('.send-btn');\n      153 | \t\t\tawait sendBtn.tap();\n      154 | \t\t\tawait page.waitFor(500);\n\n      at Object.<anonymous> (pages/ai2/ai2.test.js:151:19)\n","name":"C:\\Users\\22216\\Desktop\\项目实战\\wenzhang\\pages\\ai2\\ai2.test.js","startTime":1744711419853,"status":"failed","summary":""}],"wasInterrupted":false}