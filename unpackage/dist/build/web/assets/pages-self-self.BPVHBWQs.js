import{r as l,m as e,a as t,e as a,d as s,b as c,u,c as o,s as i,F as n,i as f,o as d,g as r,t as p,h as _,v as y,Y as m,x,q as k,y as g}from"./index-vCkMVs31.js";import{_ as h}from"./uni-icons.Da4HOIOP.js";import{o as b,r as z}from"./uni-app.es.CgFsQHgy.js";import{a as I}from"./http.1boYmU1a.js";import{_ as C}from"./_plugin-vue_export-helper.BCo6x5W8.js";const v=C({__name:"self",setup(C){l("1.0.0"),l(!1);const v=e();function F(){_({url:"/pages/userinfo/login/login"})}function w(){_({url:"/pages/setting/setting"})}function j(){_({url:"/pages/Calendar/Calendar"})}function L(){_({url:"/pages/VipBuy/VipBuy"})}function U(){_({url:"/pages/myArticle/myArticle"})}function P(){_({url:"/pages/feedback/feedback"})}function A(){y({count:1,success:async l=>{const e=await async function(l,e){const t="avatar/"+e;return(await m.uploadFile({filePath:l,cloudPath:t})).fileID}(l.tempFiles[0].path,l.tempFiles[0].name);let t=await m.getTempFileURL({fileList:[e]});console.log(t.fileList[0].tempFileURL),await async function(l){await(e={userId:v.state.userInfo._id,filePath:l},I({name:"AvatarUpdate",data:e})),x({title:"上传成功"}),v.commit("updateUserInfo",{...v.state.userInfo,avatar:l});var e}(t.fileList[0].tempFileURL)}})}return b((()=>{})),(l,e)=>{const _=z(t("uni-icons"),h),y=f,m=k,x=g;return d(),a(n,null,[s(y,{class:"top"},{default:c((()=>[s(y,{class:"left"},{default:c((()=>[s(_,{type:"scan",size:"25"})])),_:1}),s(y,{class:"right"},{default:c((()=>[s(_,{class:"icon",type:"notification",size:"25"}),s(_,{class:"icon",type:"gear",size:"25",onClick:w})])),_:1})])),_:1}),u(v).state.userInfo?(d(),o(y,{key:0,class:"my-header"},{default:c((()=>[s(y,{class:"my-header-logo"},{default:c((()=>[s(y,{class:"my-header-logo-box",onClick:A},{default:c((()=>[s(m,{src:u(v).state.userInfo.avatar,mode:"aspectFill"},null,8,["src"])])),_:1}),s(x,{onClick:l.changeName,class:"user-name"},{default:c((()=>[r(p(u(v).state.userInfo.author_name),1)])),_:1},8,["onClick"])])),_:1}),s(y,{class:"my-header-info"},{default:c((()=>[s(y,{class:"my-header-info-box"},{default:c((()=>[s(x,null,{default:c((()=>[r(p(u(v).state.userInfo.follow_count),1)])),_:1}),s(x,{class:"my-header-info-title"},{default:c((()=>[r("被关注")])),_:1})])),_:1}),s(y,{class:"my-header-info-box"},{default:c((()=>[s(x,null,{default:c((()=>[r(p(u(v).state.userInfo.fans_count),1)])),_:1}),s(x,{class:"my-header-info-title"},{default:c((()=>[r("粉丝")])),_:1})])),_:1}),s(y,{class:"my-header-info-box"},{default:c((()=>[s(x,null,{default:c((()=>[r(p(u(v).state.userInfo.integral_count||0),1)])),_:1}),s(x,{class:"my-header-info-title"},{default:c((()=>[r("积分")])),_:1})])),_:1})])),_:1})])),_:1})):i("",!0),s(y,{class:"my-content"},{default:c((()=>[u(v).state.userInfo?i("",!0):(d(),o(y,{key:0,class:"my-content-list",onClick:F},{default:c((()=>[s(y,{class:"my-content-list-title"},{default:c((()=>[s(m,{class:"company-logo",src:"/assets/logo-DH6MYdfv.jpeg",mode:"aspectFill"}),s(x,null,{default:c((()=>[r("HI，您尚未登录,请点击登录")])),_:1})])),_:1}),s(_,{type:"arrowright",size:"14",color:"#666"})])),_:1})),s(y,{class:"card"},{default:c((()=>[s(y,{class:"list-text",onClick:j},{default:c((()=>[s(_,{size:"35px",color:"black",type:"calendar"}),s(x,null,{default:c((()=>[r("签到")])),_:1})])),_:1}),s(y,{class:"list-text",onClick:L},{default:c((()=>[s(_,{size:"35px",color:"black",type:"vip"}),s(x,null,{default:c((()=>[r("VIP")])),_:1})])),_:1}),s(y,{class:"list-text"},{default:c((()=>[s(_,{size:"35px",color:"black",type:"flag"}),s(x,null,{default:c((()=>[r("Falg")])),_:1})])),_:1}),s(y,{class:"list-text"},{default:c((()=>[s(_,{size:"35px",color:"black",type:"wallet"}),s(x,null,{default:c((()=>[r("账户")])),_:1})])),_:1})])),_:1}),s(y,{class:"createConter"},{default:c((()=>[s(y,{class:"toptitle"},{default:c((()=>[s(x,null,{default:c((()=>[r("创作者中心")])),_:1}),s(y,{class:"shouye"},{default:c((()=>[s(x,null,{default:c((()=>[r("进入首页")])),_:1}),s(_,{type:"arrow-right"})])),_:1})])),_:1}),s(y,{class:"card"},{default:c((()=>[s(y,{class:"list-text"},{default:c((()=>[s(_,{size:"35px",color:"black",type:"gift"}),s(x,null,{default:c((()=>[r("礼物")])),_:1})])),_:1}),s(y,{class:"list-text"},{default:c((()=>[s(_,{size:"35px",color:"black",type:"medal"}),s(x,null,{default:c((()=>[r("竞赛")])),_:1})])),_:1}),s(y,{class:"list-text"},{default:c((()=>[s(_,{size:"35px",color:"black",type:"person"}),s(x,null,{default:c((()=>[r("个人")])),_:1})])),_:1}),s(y,{class:"list-text"},{default:c((()=>[s(_,{size:"35px",color:"black",type:"bars"}),s(x,null,{default:c((()=>[r("草稿箱")])),_:1})])),_:1})])),_:1}),s(y,{class:"textCent"},{default:c((()=>[s(x,null,{default:c((()=>[r(" 欢迎各位创作者入驻缔造掘金")])),_:1})])),_:1})])),_:1}),s(y,{class:"createConter"},{default:c((()=>[s(y,{class:"toptitle"},{default:c((()=>[s(x,null,{default:c((()=>[r("常用功能")])),_:1})])),_:1}),s(y,{class:"card"},{default:c((()=>[s(y,{class:"list-text",onClick:U},{default:c((()=>[s(_,{size:"35px",color:"black",type:"eye"}),s(x,null,{default:c((()=>[r("文章")])),_:1})])),_:1}),s(y,{class:"list-text"},{default:c((()=>[s(_,{size:"35px",color:"black",type:"fire"}),s(x,null,{default:c((()=>[r("沸点")])),_:1})])),_:1}),s(y,{class:"list-text",onClick:P},{default:c((()=>[s(_,{size:"35px",color:"black",type:"help"}),s(x,null,{default:c((()=>[r("反馈")])),_:1})])),_:1}),s(y,{class:"list-text"},{default:c((()=>[s(_,{size:"35px",color:"black",type:"locked"}),s(x,null,{default:c((()=>[r("锁屏")])),_:1})])),_:1})])),_:1}),s(y,{class:"card"},{default:c((()=>[s(y,{class:"list-text"},{default:c((()=>[s(_,{size:"35px",color:"black",type:"map-pin-ellipse"}),s(x,null,{default:c((()=>[r("推广")])),_:1})])),_:1}),s(y,{class:"list-text"},{default:c((()=>[s(_,{size:"35px",color:"black",type:"phone"}),s(x,null,{default:c((()=>[r("联系")])),_:1})])),_:1}),s(y,{class:"list-text"},{default:c((()=>[s(_,{size:"35px",color:"black",type:"undo"}),s(x,null,{default:c((()=>[r("分析")])),_:1})])),_:1}),s(y,{class:"list-text"},{default:c((()=>[s(_,{size:"35px",color:"black",type:"paperclip"}),s(x,null,{default:c((()=>[r("记录")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})],64)}}},[["__scopeId","data-v-253d1c10"]]);export{v as default};
